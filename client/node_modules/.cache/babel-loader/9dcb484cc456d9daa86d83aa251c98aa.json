{"ast":null,"code":"import http from \"./httpService\";\nimport { apiUrl } from \"../config.json\";\nimport jwtDecode from \"jwt-decode\";\nexport function getJwt() {\n  return localStorage.getItem(\"token\");\n}\nexport function logout() {\n  localStorage.removeItem(\"token\");\n}\nexport function getCurrentUser() {\n  try {\n    const jwt = localStorage.getItem(\"token\");\n    return jwtDecode(jwt);\n  } catch (error) {\n    return null;\n  }\n}\nexport async function getCurrentUserDetails() {\n  return await http.get(`${apiUrl}/users/`);\n}\nexport async function signin(email, password) {\n  const {\n    data\n  } = await http.post(`${apiUrl}/signin`, {\n    email,\n    password\n  });\n  localStorage.setItem(\"token\", data.token);\n}\nexport async function updateUser(user) {\n  return await http.put(`${apiUrl}/users/edit`, user);\n}\nexport async function createUserAndLogin(user) {\n  await http.post(`${apiUrl}/users`, user);\n  const {\n    email,\n    password\n  } = user;\n  const {\n    data\n  } = await http.post(`${apiUrl}/signin`, {\n    email,\n    password\n  });\n  localStorage.setItem(\"token\", data.token);\n}\nexport async function deleteUser() {\n  await http.delete(`${apiUrl}/users/delete`);\n}\nexport async function addToFav(cardId) {\n  await http.put(`${apiUrl}/users/addToFav`, {\n    cardId\n  });\n}\nexport async function removeFromFav(cardId) {\n  await http.delete(`${apiUrl}/users/removeFromFav`, {\n    params: {\n      cardId\n    }\n  });\n}\nexport async function getFavorites() {\n  return await http.get(`${apiUrl}/users/favorites`);\n}\nconst exportedObject = {\n  signin,\n  getCurrentUser,\n  logout,\n  getJwt,\n  getCurrentUserDetails,\n  updateUser,\n  createUserAndLogin,\n  deleteUser,\n  addToFav,\n  removeFromFav,\n  getFavorites\n};\nexport default exportedObject;","map":{"version":3,"sources":["C:/Users/menis/Documents/Programming/Full-Stack/React-and-Redux/ms-forums/client/src/services/userService.js"],"names":["http","apiUrl","jwtDecode","getJwt","localStorage","getItem","logout","removeItem","getCurrentUser","jwt","error","getCurrentUserDetails","get","signin","email","password","data","post","setItem","token","updateUser","user","put","createUserAndLogin","deleteUser","delete","addToFav","cardId","removeFromFav","params","getFavorites","exportedObject"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,eAAjB;AACA,SAASC,MAAT,QAAuB,gBAAvB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,OAAO,SAASC,MAAT,GAAkB;AACrB,SAAOC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAP;AACH;AAED,OAAO,SAASC,MAAT,GAAkB;AACrBF,EAAAA,YAAY,CAACG,UAAb,CAAwB,OAAxB;AACH;AAED,OAAO,SAASC,cAAT,GAA0B;AAC7B,MAAI;AACA,UAAMC,GAAG,GAAGL,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ;AACA,WAAOH,SAAS,CAACO,GAAD,CAAhB;AACH,GAHD,CAGE,OAAOC,KAAP,EAAc;AACZ,WAAO,IAAP;AACH;AACJ;AAED,OAAO,eAAeC,qBAAf,GAAsC;AACzC,SAAO,MAAMX,IAAI,CAACY,GAAL,CAAU,GAAEX,MAAO,SAAnB,CAAb;AACH;AAED,OAAO,eAAeY,MAAf,CAAsBC,KAAtB,EAA6BC,QAA7B,EAAuC;AAC1C,QAAM;AAAEC,IAAAA;AAAF,MAAW,MAAMhB,IAAI,CAACiB,IAAL,CAAW,GAAEhB,MAAO,SAApB,EAA8B;AAAEa,IAAAA,KAAF;AAASC,IAAAA;AAAT,GAA9B,CAAvB;AACAX,EAAAA,YAAY,CAACc,OAAb,CAAqB,OAArB,EAA8BF,IAAI,CAACG,KAAnC;AACH;AAED,OAAO,eAAeC,UAAf,CAA0BC,IAA1B,EAA+B;AAClC,SAAO,MAAMrB,IAAI,CAACsB,GAAL,CAAU,GAAErB,MAAO,aAAnB,EAAiCoB,IAAjC,CAAb;AACH;AAED,OAAO,eAAeE,kBAAf,CAAkCF,IAAlC,EAAuC;AAC1C,QAAMrB,IAAI,CAACiB,IAAL,CAAW,GAAEhB,MAAO,QAApB,EAA6BoB,IAA7B,CAAN;AACA,QAAM;AAACP,IAAAA,KAAD;AAAQC,IAAAA;AAAR,MAAoBM,IAA1B;AACA,QAAM;AAAEL,IAAAA;AAAF,MAAW,MAAMhB,IAAI,CAACiB,IAAL,CAAW,GAAEhB,MAAO,SAApB,EAA8B;AAAEa,IAAAA,KAAF;AAASC,IAAAA;AAAT,GAA9B,CAAvB;AACAX,EAAAA,YAAY,CAACc,OAAb,CAAqB,OAArB,EAA8BF,IAAI,CAACG,KAAnC;AACH;AAED,OAAO,eAAeK,UAAf,GAA2B;AAC9B,QAAMxB,IAAI,CAACyB,MAAL,CAAa,GAAExB,MAAO,eAAtB,CAAN;AACH;AAED,OAAO,eAAeyB,QAAf,CAAwBC,MAAxB,EAA+B;AAClC,QAAM3B,IAAI,CAACsB,GAAL,CAAU,GAAErB,MAAO,iBAAnB,EAAqC;AAAC0B,IAAAA;AAAD,GAArC,CAAN;AACH;AAED,OAAO,eAAeC,aAAf,CAA6BD,MAA7B,EAAoC;AACvC,QAAM3B,IAAI,CAACyB,MAAL,CAAa,GAAExB,MAAO,sBAAtB,EAA6C;AAAE4B,IAAAA,MAAM,EAAE;AAAEF,MAAAA;AAAF;AAAV,GAA7C,CAAN;AACH;AAED,OAAO,eAAeG,YAAf,GAA6B;AAChC,SAAO,MAAM9B,IAAI,CAACY,GAAL,CAAU,GAAEX,MAAO,kBAAnB,CAAb;AACH;AAGD,MAAM8B,cAAc,GAAI;AACpBlB,EAAAA,MADoB;AAEpBL,EAAAA,cAFoB;AAGpBF,EAAAA,MAHoB;AAIpBH,EAAAA,MAJoB;AAKpBQ,EAAAA,qBALoB;AAMpBS,EAAAA,UANoB;AAOpBG,EAAAA,kBAPoB;AAQpBC,EAAAA,UARoB;AASpBE,EAAAA,QAToB;AAUpBE,EAAAA,aAVoB;AAWpBE,EAAAA;AAXoB,CAAxB;AAcA,eAAeC,cAAf","sourcesContent":["import http from \"./httpService\";\r\nimport { apiUrl } from \"../config.json\";\r\nimport jwtDecode from \"jwt-decode\";\r\n\r\nexport function getJwt() {\r\n    return localStorage.getItem(\"token\");\r\n}\r\n\r\nexport function logout() {\r\n    localStorage.removeItem(\"token\");\r\n}\r\n\r\nexport function getCurrentUser() {\r\n    try {\r\n        const jwt = localStorage.getItem(\"token\");\r\n        return jwtDecode(jwt);\r\n    } catch (error) {\r\n        return null;\r\n    }\r\n}\r\n\r\nexport async function getCurrentUserDetails(){\r\n    return await http.get(`${apiUrl}/users/`);\r\n}\r\n\r\nexport async function signin(email, password) {\r\n    const { data } = await http.post(`${apiUrl}/signin`, { email, password });\r\n    localStorage.setItem(\"token\", data.token);\r\n}\r\n\r\nexport async function updateUser(user){\r\n    return await http.put(`${apiUrl}/users/edit`, user);\r\n}\r\n\r\nexport async function createUserAndLogin(user){\r\n    await http.post(`${apiUrl}/users`, user);\r\n    const {email, password} = user;\r\n    const { data } = await http.post(`${apiUrl}/signin`, { email, password });\r\n    localStorage.setItem(\"token\", data.token);\r\n}\r\n\r\nexport async function deleteUser(){\r\n    await http.delete(`${apiUrl}/users/delete`);\r\n}\r\n\r\nexport async function addToFav(cardId){\r\n    await http.put(`${apiUrl}/users/addToFav`, {cardId});\r\n}\r\n\r\nexport async function removeFromFav(cardId){\r\n    await http.delete(`${apiUrl}/users/removeFromFav`, { params: { cardId }});\r\n}\r\n\r\nexport async function getFavorites(){\r\n    return await http.get(`${apiUrl}/users/favorites`);\r\n}\r\n\r\n\r\nconst exportedObject =  {\r\n    signin,\r\n    getCurrentUser,\r\n    logout,\r\n    getJwt,\r\n    getCurrentUserDetails,\r\n    updateUser,\r\n    createUserAndLogin,\r\n    deleteUser,\r\n    addToFav,\r\n    removeFromFav,\r\n    getFavorites\r\n}\r\n\r\nexport default exportedObject;"]},"metadata":{},"sourceType":"module"}