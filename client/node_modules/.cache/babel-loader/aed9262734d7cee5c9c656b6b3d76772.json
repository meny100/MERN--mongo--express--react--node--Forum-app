{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\menis\\\\Documents\\\\Programming\\\\Full-Stack\\\\React-and-Redux\\\\ms-forums\\\\client\\\\src\\\\components\\\\signup.jsx\";\nimport PageHeader from \"./common/pageHeader\";\nimport Form from \"./common/form\";\nimport Joi from \"joi-browser\";\nimport { toast } from \"react-toastify\";\nimport { Redirect } from \"react-router-dom\";\nimport userService from \"../services/userService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Signup extends Form {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: {\n        email: \"\",\n        password: \"\",\n        name: \"\",\n        image: \"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png\"\n      },\n      errors: {}\n    };\n    this.schema = {\n      name: Joi.string().required().min(2).label(\"Name\"),\n      email: Joi.string().required().email().label(\"Email\"),\n      password: Joi.string().required().min(6).label(\"Password\"),\n      image: Joi.string().min(6).max(2048).required()\n    };\n\n    this.doSubmit = async () => {\n      var _data$email;\n\n      const {\n        data\n      } = this.state;\n      data.email = (_data$email = data.email) === null || _data$email === void 0 ? void 0 : _data$email.toLowerCase();\n      await userService.createUserAndLogin(data);\n      toast(\"A New Account was Created\");\n      setTimeout(() => {\n        window.location = \"/\";\n      }, 1500);\n    };\n  }\n\n  render() {\n    if (userService.getCurrentUser()) return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 46\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(PageHeader, {\n        titleText: \"Signup for M.S. Forums\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"You can open a new account for free!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-6\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: this.handleSubmit,\n            autoComplete: \"off\",\n            method: \"POST\",\n            encType: \"multipart/form-data\",\n            action: \"/upload\",\n            children: [this.renderInput(\"email\", \"Email\", \"email\"), this.renderInput(\"password\", \"Password\", \"password\"), this.renderInput(\"name\", \"Name\"), this.renderInput(\"image\", \"Image URL\", \"img\"), this.renderButton(\"Submit\")]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Signup;","map":{"version":3,"sources":["C:/Users/menis/Documents/Programming/Full-Stack/React-and-Redux/ms-forums/client/src/components/signup.jsx"],"names":["PageHeader","Form","Joi","toast","Redirect","userService","Signup","state","data","email","password","name","image","errors","schema","string","required","min","label","max","doSubmit","toLowerCase","createUserAndLogin","setTimeout","window","location","render","getCurrentUser","handleSubmit","renderInput","renderButton"],"mappings":"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","sourcesContent":["import PageHeader from \"./common/pageHeader\";\r\nimport Form from \"./common/form\";\r\nimport Joi from \"joi-browser\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nimport userService from \"../services/userService\";\r\n\r\nclass Signup extends Form {\r\n  state = {\r\n    data: { email: \"\", password: \"\", name: \"\", image: \"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png\" },\r\n    errors: {},\r\n  };\r\n\r\n  schema = {\r\n    name: Joi.string().required().min(2).label(\"Name\"),\r\n    email: Joi.string().required().email().label(\"Email\"),\r\n    password: Joi.string().required().min(6).label(\"Password\"),\r\n    image: Joi.string().min(6).max(2048).required()\r\n  };\r\n\r\n  doSubmit = async () => {\r\n    const { data } = this.state;\r\n\r\n     data.email = data.email?.toLowerCase();\r\n      await userService.createUserAndLogin(data);\r\n      toast(\"A New Account was Created\");\r\n      setTimeout(() => {\r\n        window.location = \"/\";\r\n      }, 1500);\r\n  };\r\n\r\n  render() {\r\n    if (userService.getCurrentUser()) return <Redirect to=\"/\" />;\r\n    return (\r\n      <div className=\"container\">\r\n        <PageHeader titleText=\"Signup for M.S. Forums\"></PageHeader>\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <p>You can open a new account for free!</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-6\">\r\n            <form\r\n              onSubmit={this.handleSubmit}\r\n              autoComplete=\"off\"\r\n              method=\"POST\"\r\n              encType=\"multipart/form-data\"\r\n              action=\"/upload\"\r\n            >\r\n              {this.renderInput(\"email\", \"Email\", \"email\")}\r\n              {this.renderInput(\"password\", \"Password\", \"password\")}\r\n              {this.renderInput(\"name\", \"Name\")}\r\n              {this.renderInput(\"image\", \"Image URL\", \"img\")}\r\n              {this.renderButton(\"Submit\")}\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Signup;\r\n"]},"metadata":{},"sourceType":"module"}